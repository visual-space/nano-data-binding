!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=0)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});let Debug=__webpack_require__(1),debug=Debug?Debug("ndb:NanoDataBind"):()=>{};debug("Instantiate NanoDataBind");const ORIGIN={Property:"p-",Event:"e-",Observable:"o-"},RULE={Data:"data",If:"if",For:"for",Class:"class",Call:"call"};window.nanoBind&&console.warn("Some other lib is using the same globals as nano-data-bind"),window.nanoBindAll&&console.warn("Some other lib is using the same globals as nano-data-bind"),window.nanoBind=nanoBind,window.nanoBindAll=nanoBindAll;let parser=new DOMParser;remListenersFromRemNodes();function nanoBind(e,...n){debug("Nano bind",{parent:e,selectors:n});let t,r,o,a;if(o=n.reduce((e,n)=>e&&"string"==typeof n,!0),a=n.reduce((e,n)=>e&&n instanceof HTMLElement,!0),debug("All selectors are strings",o,"All selectors are elements",a),arguments.length<1)throw Error("nanoBind() failed. First param missing. Provide a HTMLElement.");if(e instanceof HTMLElement==!1)throw Error("nanoBind() failed. First parameter is not a HTMLElement.");if(n.length<1)throw Error("nanoBind() failed. Second parameter missing. Provide a css selector string or a HTMLElement.");if(n[0]instanceof HTMLElement==!1&&"string"!=typeof n[0])throw Error("nanoBind() failed. Second parameter is not a css selector string or a HTMLElement.");if(!1===o&&!1===a)throw Error("nanoBind() failed. Not all selectors have the same type.");return o?t=(t=n.map(n=>(null===(r=e.querySelector(n))&&console.warn(`Selector "${n}" is invalid. No child element matched in "<${e.tagName.toLowerCase()}>"`),r))).filter(e=>null!==e):a&&(t=[...n]),bindContextToChildren(e,t),initDataBind(e,t),t}exports.nanoBind=nanoBind;function nanoBindAll(e,...n){debug("Nano bind",{parent:e,selectors:n});let t,r,o=[];if(r=n.reduce((e,n)=>e&&"string"==typeof n,!0),debug("All selectors are strings",r),arguments.length<1)throw Error("nanoBind() failed. First param missing. Provide a HTMLElement.");if(e instanceof HTMLElement==!1)throw Error("nanoBind() failed. First parameter is not a HTMLElement.");if(n.length<1)throw Error("nanoBind() failed. Second parameter missing. Provide a css selector string or a HTMLElement.");if("string"!=typeof n[0])throw Error("nanoBind() failed. Second parameter is not a css selector string.");if(!1===r)throw Error("nanoBind() failed. Not all selectors have the same type.");return n.forEach(n=>{(t=Array.from(e.querySelectorAll(n))).forEach(e=>o.push(e)),0===t.length&&console.warn(`Selector "${n}" is invalid. No element matched in "<${e.tagName.toLowerCase()}>"`)}),o=o.filter(e=>null!==e),bindContextToChildren(e,o),initDataBind(e,o),o}exports.nanoBindAll=nanoBindAll;function bindContextToChildren(e,n){debug("Bind context to children",[e,n]),n.forEach(n=>{Object.assign(n,e),n.ancestor=e})}function initDataBind(e,n){n.forEach(n=>{let t,r,o,a={parent:e,child:n},i={};Array.from(n.attributes).forEach(e=>{if(isAttrDataBind(e))if(a.origin=getDataBindOrigin(e),a.rule=getDataBindRule(e),a.source=getDataBindSource(e),a.code=getDataBindCode(e),debug("Initialise data bind",{dataBind:a}),a.rule===RULE.If?(t=Array.prototype.indexOf.call(n.parentElement.childNodes,n)-1,r=n.parentElement.childNodes[t],o=8===r.nodeType,debug("Recovered IF data bind placeholder",{isComment:o,placeholderIndex:t,placeholder:r,dataBind:a}),!0!==o&&setupIfDataBindPlaceholder(a)):a.rule===RULE.For&&(a.template=n.innerHTML,n.innerHTML=""),a.origin===ORIGIN.Property);else if(a.origin===ORIGIN.Event){let e=()=>evaluateDataBind(a);i[a.source]=e,document.addEventListener(a.source,e),debug("Added custom event listener",a.source)}else a.origin,ORIGIN.Observable}),n._nano_listeners=i,n._nano_subscriptions=i})}function evaluateDataBind(e){e.event=event,debug("Evaluate data bind",{dataBind:e});let{rule:n}=e;switch(e.rule){case RULE.Data:bindDataToElem(e);break;case RULE.If:break;case RULE.For:updateItemsInForList(e);break;case RULE.Class:case RULE.Class:addCssClassesToElem(e);break;case RULE.Call:callChildContextMethod(e);break;default:console.warn(`Data bind rule "${n}" is invalid. Accepted rules are: n-data, n-if, n-for, n-class, n-call`)}}function bindDataToElem(e){let{child:n}=e;e.modifier="this._evalOutput = ";let t,r=evalInContext.call(n,e);for(t in r)n[t]=r[t];debug("Write data bind values to element",{inputs:r,dataBind:e})}function setupIfDataBindPlaceholder(e){let n,{child:t,origin:r,source:o}=e;if(n=document.createComment(""),e.placeholder=n,debug("Setup if data bind placeholder",{dataBind:e}),n._nano_originalElement=t.cloneNode(),n._nano_originalElement.innerHTML=t.innerHTML,t.parentNode.insertBefore(n,t),t.remove(),delete e.child,r===ORIGIN.Event){let t=()=>toggleIfDataBindElement(e);document.addEventListener(o,t),n._nano_listeners={source:t}}else r===ORIGIN.Property||ORIGIN.Observable}function toggleIfDataBindElement(e){let n,t,{child:r,placeholder:o,parent:a}=e;debug("Toggle IF data bind element",{dataBind:e}),e.modifier="this._evalOutput = ",n=evalInContext.call(o,e),debug("IF element is visible",n),!1===n&&void 0===r||!0===n&&void 0!==r||((t=o._nano_originalElement.cloneNode()).innerHTML=o._nano_originalElement.innerHTML,!0===n?(debug("Insert child",{ifElement:t}),o.parentNode.insertBefore(t,o.nextSibling),e.child=t,nanoBind(a,t)):!1===n&&(debug("Remove child"),e.child.remove(),delete e.child))}function updateItemsInForList(e){let{child:n}=e,t={added:[],removed:[]};e.modifier="this._evalOutput = ";let r=evalInContext.call(n,e),o=Array.from(n.children),a=o.map(e=>e._nForDataBInd);if(r.constructor!==Array)return void console.warn(`Cannot render list. Only arrays are accepted. ${mapLogDataBindInfo(e)}`);t.added=r.filter(e=>!a.includes(e)),t.removed=a.filter(e=>!r.includes(e)),debug("Update items in for list",{newItems:r,oldItems:a,changes:t,dataBind:e}),o.forEach(e=>{e._nForDataBInd||console.warn("Metadata is missing. Ensure that no other library manipulates the items generated via n-for data bind.")});let i=[];t.removed.forEach(e=>{let t=a.indexOf(e);i.push(n.children[t])}),debug("Removed old element",{removedElems:i}),i.forEach(e=>e.remove()),t.added.forEach(t=>{let o=r.indexOf(t),a=parser.parseFromString(e.template,"text/xml").children[0];a._nForDataBInd=t,a.forItemData=t,n.insertBefore(a,n.children[o]),debug("Added new element",{elem:a,add:t})})}function addCssClassesToElem(e){let{child:n}=e;e.modifier="this._evalOutput = ";let t=evalInContext.call(n,e);debug("Add css classes to element",{classesObj:t,dataBind:e});Object.keys(t).forEach(r=>{"boolean"!=typeof t[r]&&console.warn(`Cannot match class, value is not boolean. ${mapLogDataBindInfo(e)}`),!0===t[r]?n.classList.add(r):n.classList.remove(r)})}function callChildContextMethod(e){let{child:n}=e;e.modifier="",evalInContext.call(n,e),debug("Call child context method",{dataBind:e})}function remListenersFromRemNodes(){debug("Remove listeners from removed nodes");new MutationObserver(e=>{debug("Document body mutated",e),e[0].removedNodes&&[...e[0].removedNodes].forEach(e=>{e.tagName&&removeEventListeners.call(e)(e).tagName&&removeSubscriptions.call(e)})}).observe(document.body,{childList:!0,subtree:!0})}function removeEventListeners(){let e=this._nano_listeners,n=this.tagName.toLowerCase();debug(`Remove event listeners from "<${n}>"`,e);for(let n in e){let t=e[n];document.removeEventListener(n,t)}}function removeSubscriptions(){let e=this._nano_subscriptions,n=this.tagName.toLowerCase();debug(`Remove subscriptions from "<${n}>"`,e);for(let n in e){e[n].unsubscribe()}}function isAttrDataBind(e){return 0===e.nodeName.search(/(^[peo]-(data|if|for|class|call)$)/g)}function getDataBindOrigin(e){return e.nodeName.substring(0,2)}function getDataBindRule(e){return e.nodeName.substring(2,7)}function getDataBindSource(e){return e.nodeValue.match(/(^[^.]*,)/gm)[0].replace(",","")}function getDataBindCode(e){return e.nodeValue.match(/(,[\s\S]*)/gm)[0].replace(",","")}function evalInContext(dataBind){let{modifier:modifier,code:code}=dataBind;return debug("Evaluate in context",{dataBind:dataBind}),eval(modifier+code),debug("Eval output",this._evalOutput),this._evalOutput}function mapLogDataBindInfo(e){let{parent:n,child:t,origin:r,source:o,rule:a,code:i}=e;return`Parent "${`<${n.tagName.toLowerCase()}>`}", Child "${`<${t.tagName.toLowerCase()}>`}", Origin "${r}", Source "${o}, Rule "${a}, Code "${i}"`}},function(e,n,t){(function(r){(n=e.exports=t(3)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,a=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(a=++o)}),e.splice(a,0,r)},n.save=function(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}},n.load=o,n.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};function o(){var e;try{e=n.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}n.enable(o())}).call(n,t(2))},function(e,n){var t,r,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}var l,d=[],c=!1,u=-1;function f(){c&&l&&(c=!1,l.length?d=l.concat(d):u=-1,d.length&&m())}function m(){if(!c){var e=s(f);c=!0;for(var n=d.length;n;){for(l=d,d=[];++u<n;)l&&l[u].run();u=-1,n=d.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(n){try{return r.call(null,e)}catch(n){return r.call(this,e)}}}(e)}}o.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];d.push(new h(e,n)),1!==d.length||c||s(m)};function h(e,n){this.fun=e,this.array=n}h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={};function g(){}o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,n,t){(n=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){n.save(e),n.names=[],n.skips=[];var t,r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var a=n.instances[t];a.enabled=n.enabled(a.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=t(4),n.instances=[],n.names=[],n.skips=[],n.formatters={};function r(e){var t;function r(){if(r.enabled){var e=r,o=+new Date,a=o-(t||o);e.diff=a,e.prev=t,e.curr=o,t=o;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=n.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var l=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(t,r){if("%%"===t)return t;l++;var o=n.formatters[r];if("function"==typeof o){var a=i[l];t=o.call(e,a),i.splice(l,1),l--}return t}),n.formatArgs.call(e,i);(r.log||n.log||console.log.bind(console)).apply(e,i)}}return r.namespace=e,r.enabled=n.enabled(e),r.useColors=n.useColors(),r.color=function(e){var t,r=0;for(t in e)r=(r<<5)-r+e.charCodeAt(t),r|=0;return n.colors[Math.abs(r)%n.colors.length]}(e),r.destroy=o,"function"==typeof n.init&&n.init(r),n.instances.push(r),r}function o(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}},function(e,n){var t=1e3,r=60*t,o=60*r,a=24*o,i=365.25*a;e.exports=function(e,n){n=n||{};var l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var n=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!n)return;var s=parseFloat(n[1]);switch((n[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*i;case"days":case"day":case"d":return s*a;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===l&&!1===isNaN(e))return n.long?s(d=e,a,"day")||s(d,o,"hour")||s(d,r,"minute")||s(d,t,"second")||d+" ms":function(e){if(e>=a)return Math.round(e/a)+"d";if(e>=o)return Math.round(e/o)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);var d;throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function s(e,n,t){if(!(e<n))return e<1.5*n?Math.floor(e/n)+" "+t:Math.ceil(e/n)+" "+t+"s"}}]);