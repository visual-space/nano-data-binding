!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=0)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const RULE={Data:"n-data",If:"n-if",For:"n-for",Class:"n-class",Call:"n-call"},CONTEXT_PROP="ContextProperty",CUSTOM_EVENT="CustomEvent",ContextProperty=/(^[^.]*\.)/gm,PropEvalString=/(\.[\s\S]*)/gm,CustomEvent=/(^[^:]*\:)/gm,EventEvalString=/(\:[\s\S]*)/gm;window.nanoBind&&console.warn("Some other lib is using the same globals as nano-data-bind"),window.nanoBindAll&&console.warn("Some other lib is using the same globals as nano-data-bind"),window.nanoBind=nanoBind,window.nanoBindAll=nanoBindAll;let parser=new DOMParser;remListenersFromRemNodes();function nanoBind(e,...n){let t,r,o,a;if(o=n.reduce((e,n)=>e&&"string"==typeof n,!0),a=n.reduce((e,n)=>e&&n instanceof HTMLElement,!0),arguments.length<1)throw Error("nanoBind() failed. First param missing. Provide a HTMLElement.");if(e instanceof HTMLElement==!1)throw Error("nanoBind() failed. First parameter is not a HTMLElement.");if(n.length<1)throw Error("nanoBind() failed. Second parameter missing. Provide a css selector string or a HTMLElement.");if(n[0]instanceof HTMLElement==!1&&"string"!=typeof n[0])throw Error("nanoBind() failed. Second parameter is not a css selector string or a HTMLElement.");if(!1===o&&!1===a)throw Error("nanoBind() failed. Not all selectors have the same type.");return o?t=(t=n.map(n=>(null===(r=e.querySelector(n))&&console.warn(`Selector "${n}" is invalid. No child element matched in "<${e.tagName.toLowerCase()}>"`),r))).filter(e=>null!==e):a&&(t=[...n]),bindContextToChildren(e,t),parseDataBindAttributes(e,t),t}exports.nanoBind=nanoBind;function nanoBindAll(e,...n){let t,r,o=[];if(r=n.reduce((e,n)=>e&&"string"==typeof n,!0),arguments.length<1)throw Error("nanoBind() failed. First param missing. Provide a HTMLElement.");if(e instanceof HTMLElement==!1)throw Error("nanoBind() failed. First parameter is not a HTMLElement.");if(n.length<1)throw Error("nanoBind() failed. Second parameter missing. Provide a css selector string or a HTMLElement.");if("string"!=typeof n[0])throw Error("nanoBind() failed. Second parameter is not a css selector string.");if(!1===r)throw Error("nanoBind() failed. Not all selectors have the same type.");return n.forEach(n=>{(t=Array.from(e.querySelectorAll(n))).forEach(e=>o.push(e)),0===t.length&&console.warn(`Selector "${n}" is invalid. No element matched in "<${e.tagName.toLowerCase()}>"`)}),o=o.filter(e=>null!==e),bindContextToChildren(e,o),parseDataBindAttributes(e,o),o}exports.nanoBindAll=nanoBindAll;function bindContextToChildren(e,n){n.forEach(n=>{Object.assign(n,e),n.ancestor=e})}function parseDataBindAttributes(e,n){n.forEach(n=>{let t,r,o,a,i,l,d,s,c,m,u={parent:e,child:n},f={},h=!0,E=!0;Array.from(n.attributes).forEach(e=>{if((t=isAttrDataBind(e))&&(r=e.nodeValue.match(ContextProperty),o=e.nodeValue.match(CustomEvent),r&&o&&(l=e.nodeValue.indexOf("."),d=e.nodeValue.indexOf(":"),l>d?h=!1:d>l&&(E=!1)),r&&h?(a=r[0].replace(".","").trim(),u.code=e.nodeValue.match(PropEvalString)[0].replace(".",""),u.origin=CONTEXT_PROP):o&&E&&(i=o[0].replace(":","").trim(),u.code=e.nodeValue.match(EventEvalString)[0].replace(":",""),u.origin=CUSTOM_EVENT),u.source=h?a:i,u.rule=e.nodeName),u.rule===RULE.If?(s=Array.prototype.indexOf.call(n.parentElement.childNodes,n)-1,c=n.parentElement.childNodes[s],!0!==(m=8===c.nodeType)&&setupIfDataBindPlaceholder(u)):u.rule===RULE.For&&(u.template=n.innerHTML,n.innerHTML=""),t&&u.origin===CONTEXT_PROP);else if(t&&u.origin===CUSTOM_EVENT){let e=()=>evaluateDataBind(u);f[u.source]=e,document.addEventListener(u.source,e)}}),n._customListeners=f})}function isAttrDataBind(e){let n;return n=-1!==[RULE.Call,RULE.Class,RULE.Data,RULE.For,RULE.If].indexOf(e.nodeName)}function evaluateDataBind(e){e.event=event;let{rule:n}=e;switch(e.rule){case RULE.Data:bindDataToElem(e);break;case RULE.If:break;case RULE.For:updateItemsInForList(e);break;case RULE.Class:case RULE.Class:addCssClassesToElem(e);break;case RULE.Call:callChildContextMethod(e);break;default:console.warn(`Data bind rule "${n}" is invalid. Accepted rules are: n-data, n-if, n-for, n-class, n-call`)}}function bindDataToElem(e){let{child:n}=e;e.modifier="this._evalOutput = ";let t,r=evalInContext.call(n,e);for(t in r)n[t]=r[t]}function setupIfDataBindPlaceholder(e){let n,{child:t,origin:r,source:o}=e;if(n=document.createComment(""),e.placeholder=n,n._hiddenElement=t.cloneNode(),n._hiddenElement.innerHTML=t.innerHTML,t.parentNode.insertBefore(n,t),t.remove(),delete e.child,r===CUSTOM_EVENT){let t=()=>toggleIfDataBindElement(e);document.addEventListener(o,t),n._customListeners={source:t}}else r===CONTEXT_PROP&&console.warn("If data bind not implemented for context properties")}function toggleIfDataBindElement(e){let n,t,{child:r,placeholder:o,parent:a}=e;e.modifier="this._evalOutput = ",!1===(n=evalInContext.call(o,e))&&void 0===r||!0===n&&void 0!==r||((t=o._hiddenElement.cloneNode()).innerHTML=o._hiddenElement.innerHTML,!0===n?(o.parentNode.insertBefore(t,o.nextSibling),e.child=t,nanoBind(a,t)):!1===n&&(e.child.remove(),delete e.child))}function updateItemsInForList(e){let{child:n}=e,t={added:[],removed:[]};e.modifier="this._evalOutput = ";let r=evalInContext.call(n,e),o=Array.from(n.children),a=o.map(e=>e._nForDataBInd);if(r.constructor!==Array)return void console.warn(`Cannot render list. Only arrays are accepted. ${logDataBindDetails(e)}`);t.added=r.filter(e=>!a.includes(e)),t.removed=a.filter(e=>!r.includes(e)),o.forEach(e=>{e._nForDataBInd||console.warn("Metadata is missing. Ensure that no other library manipulates the items generated via n-for data bind.")});let i=[];t.removed.forEach(e=>{let t=a.indexOf(e);i.push(n.children[t])}),i.forEach(e=>e.remove()),t.added.forEach(t=>{let o=r.indexOf(t),a=parser.parseFromString(e.template,"text/xml").children[0];a._nForDataBInd=t,a.forItemData=t,n.insertBefore(a,n.children[o])})}function addCssClassesToElem(e){let{child:n}=e;e.modifier="this._evalOutput = ";let t=evalInContext.call(n,e);Object.keys(t).forEach(r=>{"boolean"!=typeof t[r]&&console.warn(`Cannot match class, value is not boolean. ${logDataBindDetails(e)}`),!0===t[r]?n.classList.add(r):n.classList.remove(r)})}function callChildContextMethod(e){let{child:n}=e;e.modifier="",evalInContext.call(n,e)}function evalInContext(dataBind){let{modifier:modifier,code:code}=dataBind;return eval(modifier+code),this._evalOutput}function remListenersFromRemNodes(){new MutationObserver(e=>{e[0].removedNodes&&[...e[0].removedNodes].forEach(e=>{e.tagName&&removeCustomListeners.call(e)})}).observe(document.body,{childList:!0,subtree:!0})}function removeCustomListeners(){let e=this._customListeners;for(let n in e){let t=e[n];document.removeEventListener(n,t)}}function logDataBindDetails(e){let{parent:n,child:t,origin:r,source:o,rule:a,code:i}=e;return`Parent "${`<${n.tagName.toLowerCase()}>`}", Child "${`<${t.tagName.toLowerCase()}>`}", Origin "${r}", Source "${o}, Rule "${a}, Code "${i}"`}}]);